\chapter{Structural Elements}
\label{chap:structural}

If you are submitting using the DAIM system you should make sure the pdf you submit does not have the front page information, as that will be added by the submission form in DAIM.  You can remove the DAIM option to print the front page material if you want a full PDF with the front page material. To make sure the running header has the title of the thesis you still need to set it in the \verb+DaimData.tex+ file. The title of the thesis should be set using the \verb+\thesistitle+
command, and the date of the thesis should be set using the
\verb+\thesisdate+ command in the \verb+DaimData.tex+ file. 

\section{Page Layout}

The geometry of the page has been set using the \verb+\geometry+
command.

\section{Fonts}

Due to limited \LaTeX\ support for the Georgia font, Charter has been
chosen instead. For mathematical formula, the Euler fonts are used,
since they blend more nicely with the Charter than the standard
\LaTeX\ fonts: 
\begin{equation} \label{eq:1}
    f(x) = \int_0^x g(\tau)\,d\tau
\end{equation}



For inline math you can use $\backslash{}($ and $\backslash{})$ for example \( f(x)= \frac{x^2}{1+x^2} \).  
This also allows you to use $\slash$ and $\backslash$. You need to include the \{\} when you want the special
character to have other letters immediately after it.

\section{Sectioning Commands}

The standard \LaTeX\ sectioning commands are used for both numbered
and unnumbered sections. The top level is given by the \verb+\chapter+
command. This starts a new right page. The two lower levels are
obtained using the \verb+\section+ and \verb+\subsection+ commands.
The standard \LaTeX\ \verb+\subsubsection+ and \verb+\paragraph+
commands have been disabled since their use is not encouraged by the
thesis guidelines. When you use these they will not be given numbers.  
They still appear in the document with highlighting but not in the 
table of contents.

\subsection{The subsection}

This is an example of a subsection.

\subsubsection{The subsubsection}

This is an example of a subsubsection.

\paragraph{The paragraph}

This is an example of a paragraph with a heading.

\section{Floats (Figures and Tables)}
\label{sec:floats}

Figures are placed in the \texttt{figure} environment. An example is
shown in Figure~\ref{fig:example}. %notice the ~ in between figure and the \ref. it stops latex from splitting the number and word over a line.
Tables are placed in the \texttt{table} environment. An example is given in
Table~\ref{tab:example} and reading the information directly from file in Table~\ref{tab:examplecsv}. Figures and tables float freely around in the
document in accordance with standard \LaTeX\ behavior.

\begin{figure}[tbp]  %t top, b bottom, p page | you can also use h to try to get the figure to appear at the current location
  \centering
  \includegraphics[width=.5\textwidth]{figures/example_fig}
  \caption[An example figure.]{An example figure. If the caption is
    shorter than one line, it is centered. If it goes over more than
    one line, it is left and right justified. Furthermore, it is
    suggested that an alternative short caption is given in order to
    produce a good list of figures.}
  \label{fig:example}
\end{figure}

\begin{table}[tbp]
  \centering
  \begin{tabular}{c|c}
    Age  & IQ  \\ 
    \hline
    10   & 100 \\
    20   & 100 \\
    30   & 150 \\
    40   & 100 \\
    50   & 100
  \end{tabular}
  \caption{An example table.}
  \label{tab:example}
\end{table}

\begin{table}[tbp]
  \centering
  \csvautobooktabular{figures/ageiq.csv}
  \caption{An example table using simplecsv.}
  \label{tab:examplecsv}
\end{table}

The captions are placed \emph{below} both for the figures and the
tables. The caption is set in 9pt. If the caption is shorter than one
line, it is centered.

\subsection{Gnuplot}
There are many ways to include graphs in your document.  Figure~\ref{fig:exgnuplotex} for including a file generated by gnuplot and saved as \texttt{gnuplotgraph1.tex}. 
%Figure~\ref{fig:exgnuplotintegrate} shows how to include the script to generate a graph direction in \LaTeX.

\begin{figure}[htp]  %t top, b bottom, p page | you can also use h to try to get the figure to appear at the current location
  \centering
  \input{figures/gnuplotgraph1}
  \caption[An example graph.]{This is a gnuplot graph of $y=\sin(x)$. Notice how the \LaTeX{} fonts are preserved in the graph. This is done using gnuplot and the simple text file included in the sample template.}
  \label{fig:exgnuplotex}
\end{figure}

\begin{figure}[htp]  %t top, b bottom, p page | you can also use h to try to get the figure to appear at the current location
  \centering
    \begin{gnuplot}[terminal=epslatex, terminaloptions=color]
        set xlabel "Age" 
        set ylabel "IQ" 
        set key autotitle columnhead
        set title "Age vs Average IQ"
        set yrange [0:160]
        set datafile separator ","
        plot "figures/ageiq.csv" using 1:2 with boxes 
    \end{gnuplot}
  \caption[An example of Integrated Graph]{This is a gnuplot graph read from a file}
  \label{fig:exgnuplotintegratefile}
\end{figure}


%\begin{figure}[htp]  %t top, b bottom, p page | you can also use h to try to get the figure to appear at the urrent location
%  \centering
%    \begin{gnuplot}[terminal=pdf, terminaloptions=color]
%        unset hidden3d
%        set view 102,57,1
%        set xtics offset -1.3,-0.3
%        set ytics offset 0,-0.5
%        set samples 21
%        set isosample 11
%        set xlabel "Confidence" offset -3,-2
%        set ylabel "Resilience" offset 3,-2
%        set zlabel "Rate of change" offset 2, 6
%        set title "Rate of feat change in relation to Resilience and Confidence"
%        set xrange [0:1]
%        set yrange [0:1]
%        splot 1-((1-x)*y)
%    \end{gnuplot}
%  \caption[An example 3D graph.]{This is a gnuplot graph of $1-((1-x)*y)$. This is code that is compiles during the \LaTeX{} processing. This is done using gnuplottex, it could also come from a file}
%  \label{fig:exgnuplotintegrate}
%\end{figure}

\section{Quotes}
\label{sec:Quotes} % this allows you to refer to this section number using \ref{sec:Quotes}

Quotes are inserted using the standard \LaTeX\ \texttt{quote}
environment. The environment has been changed so that a 9pt font is
used:

\begin{quote}
  ``And I looked, and, behold, a whirlwind came out of the north, a
  great cloud, and a fire infolding itself, and a brightness was about
  it, and out of the midst thereof as the colour of amber, out of the
  midst of the fire. Also out of the midst thereof came the likeness
  of four living creatures.''
\end{quote}

\section{Lists}
\label{sec:lists}

Point lists and enumerated lists are made by using the standard
\texttt{itemize} and \texttt{enumerate} environments, respectively.
The spacing is going to be changed in accordance with the specification. For
\texttt{itemize}, the results look like this:
\begin{itemize}
	\item First item.
	\item Second item. Here I will put some long text, just to illustrate.
	  Here I will put some long text, just to illustrate. Here I will put
	  some long text, just to illustrate. Here I will put some long text,
	  just to illustrate.
	\item Third item also has subitems:
	  \begin{itemize}
		  \item First subitem.
		  \item Second subitem.
		  \item Third subitem.
	  \end{itemize}
\end{itemize}
and for \texttt{enumerate} like this:
\begin{enumerate}
	\item First item.
	\item Second item. Here I will put some long text, just to illustrate.
	  Here I will put some long text, just to illustrate. Here I will put
	  some long text, just to illustrate. Here I will put some long text,
	  just to illustrate.
	\item Third item also has subitems:
	  \begin{enumerate}
		  \item First subitem.
		  \item Second subitem.
		  \item Third subitem.
	  \end{enumerate}
\end{enumerate}

You may also want to use descriptive lists
\begin{description}
	\item[First] the first item.
	\item[Second] the second item. Here I will put some long text, just to illustrate.
	  Here I will put some long text, just to illustrate. Here I will put
	  some long text, just to illustrate. Here I will put some long text,
	  just to illustrate.
	\item [What now] the third item also has subitems:
	  \begin{enumerate}
		  \item First subitem.
		  \item Second subitem.
		  \item Third subitem.
	  \end{enumerate}
\end{description}


\section{Bibliographic References}

There are two distinct styles of referencing which can be used within the Masters thesis, Vancouver for Computer Science and Harvard for Interaction Design.

In Computer Science we generally use the Vancouver style with numbered references.  
I have added a boolean option \verb|\setboolean{HarvardCitations}{false}|  Havard style if false for computer science and true for interaction design.
 
In the Vancover style you should cite articles~\cite{Askvall1985}, books~\cite{Card1983},
anthologies~\cite{Lancaster1985} and web publications~\cite{Meldon1997}
like this. For all citations note that in the text there is the tilde \~ character.  
That is a non-breaking space which forces the number to stay with the text rather than move to the next line.
There is always an issue referencing web pages. Currently
we suggest that you use the NTNU Website~\cite{NTNU:Website}.


For Harvard style referencing, you use the \texttt{citep} and \texttt{citet} style of citation. 
These give parentheses around the citation or the name of the author as text with the year in parentheses.  
If you want the citation to be read in a sentence then you use  \texttt{citet}. 
If you want it to be just parenthetical to the sentence at the end, then use \texttt{citep}.

\section{Code}


For code listing we have decided to use the lstlisting package. There are several ways to use the package.  The basic use is a code listing inline see Listing~\ref{lst:HelloWorldC++} for a \CPP example and Listing~\ref{lst:Python} for a Python example. The listings package does the work of colourizing cose so that you can easily include formatted code.   For more documentation on listings on wikibooks \footnote{\url{https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings}}

\lstset{frameround=tttt}
\lstset{frame=single}
\lstset{xleftmargin=.05\textwidth, xrightmargin=.05\textwidth}

\begin{lstlisting}[language=C++, caption= {Hello World C++ The code listing for Hello World in C++, with colour syntax highlighting.}, label={lst:HelloWorldC++}]
    #include<stdio.h>
    #include<iostream>
    // A comment
    int main(void)
    {
        printf("Hello World\n");
        return 0;
    }
\end{lstlisting}

\lstset{language=Python}
\begin{lstlisting}[caption = {The code listing for a Python increment a matrix example}, label={lst:Python}]
    import numpy as np
    x = 1
    a = np.array([[1.0, 2.0], [3.0, 4.0]])
    if x == 1:
        # indented four spaces
        print("x is 1.")
        print("Hello World")
        print(a)
\end{lstlisting}


We have many students using Go as a programming language.  It is too new to have a definition in \LaTeX so we will create one temporarily until the listing package adds it. You can see the result in Listing~\ref{lst:HelloWorldGo}

\lstdefinelanguage{go}
    {   morekeywords={var, for, int, string , float, struct, func, package, import},
        sensitive=false,
        morecomment=[l]{//},
        morecomment=[s]{/*}{*/},
        morestring=[b]",
        basicstyle=\ttfamily,
        keywordstyle=\color{red}\ttfamily,
        stringstyle=\color{darkgreen}\ttfamily,
        commentstyle=\color{blue}\ttfamily,
    }

\begin{lstlisting}[language=go, caption={Go code for hello world}, label={lst:HelloWorldGo}]
    package main

    import "fmt"
    func main() {
        fmt.Println("hello world")
    }
    
\end{lstlisting}




We also think it is useful to be able to link content from the files directly.  In the tables example we used csvsimple.  Here we can use the feature \lstinline{\lstinputlisting} with options for first line and last line see Listing~\ref{lst:HelloWorldC++file}.

%nice way to link to a file directily
\lstinputlisting[language=C++, firstline=2, lastline=12,caption={Hello World in C++ from a file}, label={lst:HelloWorldC++file}]{inc/helloworld.cpp}

There is also an interesting challenge related to visual programming languages.  As these become more common, particularly Blueprints in Unreal Engine, we need to have a listing option for visual code.  This is a bit of a workaround as listings are normally code but we use an escape sequence in the listing to include the graphic see Listing~\ref{lst:blue1}.

%create escape sequence
\lstset{
    escapeinside={(*@}{@*)},          % if you want to add LaTeX within your code
}

% define blueprint as a programming language with no real text keywords or syntax
\lstdefinelanguage{blueprint}{   
    morekeywords={visual},
    sensitive=false,
    frame=none,
    xleftmargin=0pt, 
    xrightmargin=0pt
}

\begin{lstlisting}[language=blueprint, caption={Blueprint from Unreal Engine}, label={lst:blue1}]
    (*@\includegraphics[width=.90\textwidth]{figures/blueprint} @*)
\end{lstlisting}


Students have also suggested the minted package for pretty code listings.  We will consider this in future updates to the coding style at NTNU.

\section{Statistical Analysis}

Many of you will need to use statistics to reject null hypotheses.  There are many statistical packages and ways of analysing data.  Your supervisor should be able to direct you to the type of analytically tool that will allow you to make justifiable claims.

There are some key things to remember.  If you want to make a claim that thing A is better than thing B, then you are rejecting the null hypothesis that they are the same. Equation~\ref{H0mean} states the null hypothesis as the mean of sample 1 ($\mu_1$) is the same as the mean of sample 2 ($\mu_2$). For example if you were measuring height of men and women you would state that the null hypothesis is that men and women are the same height, then you measure 100 men and 100 women and calculate the mean and standard variation of their height. 
\begin{equation} 
\label{H0mean}
    H_0 : \mu_1 = \mu_2
\end{equation}

The t-test can be used to see what the probability $p$ of seeing the values in the sample that you coming from the same actual population. If you have a $p<0.05$ you have a 95\% probability that the samples are actually different.

Thus you set up the evaluation and show that there is a very low probability that the difference you see is caused by sampling error and therefor they are not the same.  The t-test does this for normally distributed scalar values of data. If you are using a Likert Scale then you do not have scalar data, and it may not be normally distributed.

For non-parametric data you need to make a statement about the sampled values~\cite{Kaptein2010}
\begin{equation} 
\label{H0sample}
    H_0 : \phi_1(x) = \phi_2(x)
\end{equation}

There are lots of good sources for understanding statistics for research.  Most of the wikipedia pages are a good entry to the area. For Likert scale analysis there are new tools~\cite{Kaptein2010} which allow for better assessment of the sample sizes we have in most of our Masters thesis projects.

You should also think about learning R the statisical package for doing analysis.  You can download it by searching for "R on windows" or using the link to a windows implementation of R\footnote{\url{https://cran.r-project.org/bin/windows/base/}}


